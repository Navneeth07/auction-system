;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="cf19b804-0bb3-e810-c975-29095a2b1164")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,533299,e=>{e.v({error:"search-module__Vx2UBa__error","glow-brightness":"search-module__Vx2UBa__glow-brightness","pulse-glow":"search-module__Vx2UBa__pulse-glow",searchInputWrapper:"search-module__Vx2UBa__searchInputWrapper",searchInputWrapperLoading:"search-module__Vx2UBa__searchInputWrapperLoading",shimmer:"search-module__Vx2UBa__shimmer"})},2411726,e=>{"use strict";var t=e.i(4205214),s=e.i(9424270),i=e.i(57106),r=e.i(6417808),n=e.i(827385),l=e.i(8660982);function a(){let[,e]=(0,l.useTransition)(),a=(0,n.useNorthstarDashboardHref)();return(0,t.jsxs)("div",{className:"flex justify-center items-center gap-3",children:[(0,t.jsx)(i.Link,{href:a,className:"inline-flex",children:(0,t.jsx)(r.default,{height:17.5})}),(0,t.jsx)(s.SlashForward,{color:"gray-alpha-400",size:16}),(0,t.jsx)(i.Link,{href:"/domains",prefetch:!0,onClick:()=>{e(()=>{window.dispatchEvent(new Event("domains:clear-input"))})},className:"font-medium",children:"Domains"})]})}var o=e.i(8835183),c=e.i(2712781),d=e.i(2331152),u=e.i(6063244),m=e.i(9016063),x=e.i(5677444),h=e.i(9563039),f=e.i(3501042),p=e.i(9977037),j=e.i(4670733),g=e.i(1709267),y=e.i(6357175),v=e.i(1265647),b=e.i(533299);function w(e){let{size:s,explicitId:i}=e,[r,n]=(0,m.useMobileFocus)(),a=(0,m.useQueryState)(),[w,k]=(0,m.useSearchInputState)(),N=(0,y.useDebouncedValue)(w,400),{value:C}=(0,j.useEnableAiDomainSearchFlag)(),S=C&&(0,g.isAiSearchQuery)(w),L=(0,f.useAIDomainSearchResults)(N),M=S&&(w.trim().length>0&&p.Result.builder(L).onInitialOrWaiting(()=>!0).orElse(()=>!1)||N!==w),E=(0,m.useIsMobile)(),R=(0,x.usePathname)(),[,T]=(0,l.useTransition)(),A=(0,l.useRef)(!1),P=(0,l.useRef)(null);(0,h.useHotkeys)("*",e=>{let t=P.current;if(!t)return;let s=document.activeElement;s===t||s&&("INPUT"===s.tagName||"TEXTAREA"===s.tagName||s.isContentEditable)||e.metaKey||e.ctrlKey||" "===e.key||(1===e.key.length||"Backspace"===e.key||"Escape"===e.key)&&t.focus()},{enableOnFormTags:!1,keydown:!0},[P]),(0,l.useEffect)(()=>{let e=()=>{A.current=!1,n(!1),k("");let e=P.current;e&&!E&&(e.focus(),e.setSelectionRange(0,0))};return window.addEventListener("domains:clear-input",e),()=>window.removeEventListener("domains:clear-input",e)},[k,P,n,E]);let F=(0,t.jsxs)("div",{className:"relative w-[16px] h-[16px]",children:[(0,t.jsx)(v.motion.div,{className:"absolute inset-0",initial:{scale:1,opacity:1,rotate:0},animate:{scale:+!S,opacity:+!S,rotate:180*!!S},transition:{duration:.4,ease:[.4,0,.2,1],delay:0},children:"small"===s?(0,t.jsx)(u.MagnifyingGlassSmall,{size:16}):(0,t.jsx)(d.MagnifyingGlass,{size:16})}),(0,t.jsx)(v.motion.div,{className:"absolute inset-0",initial:{scale:0,opacity:0,rotate:-180},animate:{scale:+!!S,opacity:+!!S,rotate:S?0:-180},transition:{duration:.4,ease:[.4,0,.2,1],delay:0},children:(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)(c.Sparkles,{size:13})})})]});return(0,t.jsx)("div",{className:`relative ${b.default.searchInputWrapper} ${M?b.default.searchInputWrapperLoading:""}`,children:(0,t.jsx)(o.SearchInput,{size:s,width:"100%",className:"[font-variant-ligatures:none] [font-kerning:none] tracking-[-0.015em] placeholder:[font-variant-ligatures:normal] placeholder:[font-kerning:auto] placeholder:tracking-normal",explicitId:i,clearable:!0,placeholder:"Search a domain or describe your ideaâ€¦",onFocus:()=>{E&&n(!0),A.current=!0},value:w,prefix:F,ref:e=>{if(e&&P.current!==e&&(P.current=e,!1===A.current)){let t=document.activeElement===e;if((!1===E||r)&&!t){e.focus();let t=e.value.length;e.setSelectionRange(t,t)}}},onChange:e=>{let t=e.target.value;k(t),T(()=>{if("/domains"===R){let e=new URL("/domains/search",window.location.href);""!==t?e.searchParams.set("q",t):e.searchParams.delete("q"),window.history.pushState({},"",e.toString()),a&&a[1](e=>({...e,q:t}))}else a&&a[1](e=>({...e,q:t}))})}})})}var k=e.i(6143247),N=e.i(718640),C=e.i(6362863),S=e.i(8976482);e.s(["Header",0,function(e){let{headerRight:s}=e,i=(0,m.useInputState)(),r=(0,l.useRef)(null);(0,l.useEffect)(()=>{if("in-nav"!==i){let e=document.getElementById("domains-main-scroll"),t=r.current;if(!e||!t)return;let s=null,i=()=>{null===s&&(s=requestAnimationFrame(()=>{s=null;let i=e.scrollTop;t.style.transform=`translateX(-50%) translateY(${-i}px)`}))};return i(),e.addEventListener("scroll",i,{passive:!0}),()=>{e.removeEventListener("scroll",i),null!==s&&cancelAnimationFrame(s),t&&(t.style.transform="")}}{let e=r.current;e&&(e.style.transform="")}},[i]);let n="in-nav"===i,o=(0,x.usePathname)();return"/domains/checkout"===o||"/domains-new-search-buy/checkout"===o?(0,t.jsxs)("header",{className:"flex min-h-[64px] w-full shrink-0 flex-wrap items-center justify-between border-0 border-b border-solid border-gray-300 md:flex-nowrap",children:[(0,t.jsxs)("div",{className:"pl-4 md:pl-6 w-1/3 flex justify-start",children:[(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(a,{})}),(0,t.jsx)("div",{className:"block md:hidden",children:(0,t.jsx)(S.SavedSearchLink,{className:"items-center text-gray-800",children:(0,t.jsx)(C.ArrowLeft,{})})})]}),(0,t.jsx)("div",{className:"block md:hidden font-medium",children:"Checkout"}),(0,t.jsx)("div",{className:"flex min-h-[64px] select-none items-center justify-end gap-3 pr-4 md:pr-6 w-1/3",children:(0,t.jsx)("div",{className:"hidden md:block",children:s})})]}):(0,t.jsxs)("header",{className:"flex min-h-[64px] w-full shrink-0 flex-wrap items-center justify-between border-0 border-b border-solid border-gray-300 md:flex-nowrap",children:[(0,t.jsx)("div",{className:"pl-4 md:pl-6 flex justify-start",children:(0,t.jsx)(a,{})}),(0,t.jsx)("div",{className:(0,k.cn)("order-1 flex w-full items-center justify-center border-0 border-t border-none border-gray-300 p-0 md:order-none md:border-none md:px-5 md:py-0 ",n&&"border-solid px-4 py-3"),children:"dont"!==i&&(0,t.jsx)("div",{ref:r,className:n?"w-full max-w-[800px]":"absolute left-1/2 top-[calc(50vh+10px)] z-20 w-[min(520px,90vw)] -translate-x-1/2",children:(0,t.jsx)(w,{size:n?"small":void 0,explicitId:N.DOMAINS_SEARCH_INPUT_ID})})}),(0,t.jsx)("div",{className:"flex min-h-[64px] select-none items-center justify-end gap-3 pr-4 md:pr-6",children:s})]})}],2411726)},8132313,e=>{"use strict";let t;var s=e.i(4205214),i=e.i(9016063),r=e.i(8660982);function n(e){return null!=window.navigator?e.test(window.navigator.platform):void 0}let l=r.useLayoutEffect;function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(){for(var e=arguments.length,s=Array(e),i=0;i<e;i++)s[i]=arguments[i];for(let e of t)"function"==typeof e&&e(...s)}}let o="u">typeof document&&window.visualViewport;function c(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function d(e){for(c(e)&&(e=e.parentElement);e&&!c(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}let u=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),m=0;function x(e,t,s,i){return e.addEventListener(t,s,i),()=>{e.removeEventListener(t,s,i)}}function h(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=d(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let s=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top;e.getBoundingClientRect().bottom>t.getBoundingClientRect().bottom+24&&(t.scrollTop+=i-s)}e=t.parentElement}}function f(e){return e instanceof HTMLInputElement&&!u.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var p=e.i(6143247),j=e.i(6891161),g=e.i(8980981),y=e.i(5836125),v=e.i(5055193);function b(){let{showModal:e,setShowModal:t}=(0,i.useModeMismatchModal)(),r=(0,g.useAtomSet)(y.orderIdRx);async function n(){r(v.Option.none()),t(!1)}return(0,s.jsxs)(j.Modal.Modal,{active:e,onClickOutside:()=>t(!1),children:[(0,s.jsxs)(j.Modal.Body,{children:[(0,s.jsx)(j.Modal.Title,{children:"Prod/Test Mode Mismatch"}),(0,s.jsx)(j.Modal.P,{children:'Carts can only be in either a "test" or "prod" environment. This is set when the first item is added to the cart based on whether you are in a test team or not.'}),(0,s.jsx)(j.Modal.P,{children:"The team you currently have selected does not match the environment of the cart. You can either cancel, and switch to a matching team in the team switcher in the cart sidebar, or confirm to clear your cart and start over in a new environment."})]}),(0,s.jsxs)(j.Modal.Actions,{children:[(0,s.jsx)(j.Modal.Action,{onClick:()=>t(!1),type:"secondary",children:"Cancel"}),(0,s.jsx)(j.Modal.Action,{onClick:n,children:"Confirm"})]})]})}function w(){let{showModal:e,setShowModal:t}=(0,i.useSubmittedOrderModal)(),r=(0,g.useAtomSet)(y.orderIdRx);async function n(){r(v.Option.none()),t(!1)}return(0,s.jsxs)(j.Modal.Modal,{active:e,onClickOutside:()=>t(!1),children:[(0,s.jsxs)(j.Modal.Body,{children:[(0,s.jsx)(j.Modal.Title,{children:"Already Submitted Order"}),(0,s.jsx)(j.Modal.P,{children:"It looks like you've already tried to submit this order, but the payment has not completed. Orders in this state can not be updated, to continue shopping please confirm to clear your cart."})]}),(0,s.jsxs)(j.Modal.Actions,{children:[(0,s.jsx)(j.Modal.Action,{onClick:()=>t(!1),type:"secondary",children:"Cancel"}),(0,s.jsx)(j.Modal.Action,{onClick:n,children:"Confirm"})]})]})}var k=e.i(316263),N=e.i(7780974),C=e.i(5677444),S=e.i(2837344);function L(){let e=(0,C.usePathname)();return(0,k.useTrackPageViewCustomActivityIgnoreQueryParams)(!0,N.VercelActivityAction.PageView,{route:e,preferredLocale:"u">typeof navigator?navigator.language:null,vercelApp:"vercel.com"}),null}function M(e){let{children:c}=e;!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isDisabled:s}=e;l(()=>{if(!s){var e,i,r;let s,l,c,u,p,j,g;return 1==++m&&(n(/^iPhone/)||n(/^iPad/)||n(/^Mac/)&&navigator.maxTouchPoints>1)&&(c=0,u=window.pageXOffset,p=window.pageYOffset,j=a((e=document.documentElement,i="paddingRight",r=`${window.innerWidth-document.documentElement.clientWidth}px`,s=e.style[i],e.style[i]=r,()=>{e.style[i]=s})),window.scrollTo(0,0),g=a(x(document,"touchstart",e=>{((l=d(e.target))!==document.documentElement||l!==document.body)&&(c=e.changedTouches[0].pageY)},{passive:!1,capture:!0}),x(document,"touchmove",e=>{if(!l||l===document.documentElement||l===document.body)return void e.preventDefault();let t=e.changedTouches[0].pageY,s=l.scrollTop,i=l.scrollHeight-l.clientHeight;0!==i&&((s<=0&&t>c||s>=i&&t<c)&&e.preventDefault(),c=t)},{passive:!1,capture:!0}),x(document,"touchend",e=>{let t=e.target;f(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},{passive:!1,capture:!0}),x(document,"focus",e=>{let t=e.target;f(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",o&&(o.height<window.innerHeight?requestAnimationFrame(()=>{h(t)}):o.addEventListener("resize",()=>h(t),{once:!0}))}))},!0),x(window,"scroll",()=>{window.scrollTo(0,0)})),t=()=>{j(),g(),window.scrollTo(u,p)}),()=>{0==--m&&t?.()}}},[s])}();let u="in-nav"===(0,i.useInputState)(),{showModal:j}=(0,i.useModeMismatchModal)(),{showModal:g}=(0,i.useSubmittedOrderModal)(),y=(0,S.useScrollContainerRef)();return(0,s.jsxs)("div",{className:"size-full min-h-full",children:[(0,s.jsx)(r.Suspense,{fallback:null,children:(0,s.jsx)(L,{})}),(0,s.jsxs)("main",{ref:y,className:(0,p.cn)("absolute md:top-[65px] md:h-[calc(100dvh-65px)] w-full flex-1 overflow-y-auto bg-background-200 overflow-x-hidden",{"top-[65px] h-[calc(100dvh-65px)]":!u,"top-[123px] h-[calc(100dvh-123px)]":u}),id:"domains-main-scroll",children:[c,j&&(0,s.jsx)(b,{}),g&&(0,s.jsx)(w,{})]})]})}e.s(["ClientLayout",0,function(e){let{children:t}=e;return(0,s.jsx)(S.ScrollContainerProvider,{children:(0,s.jsx)(M,{children:t})})}],8132313)},6269442,e=>{"use strict";var t=e.i(4205214),s=e.i(5255926),i=e.i(4004502),r=e.i(5677444),n=e.i(8660982),l=e.i(57106);function a(e){let s=(0,r.usePathname)(),n=(0,r.useSearchParams)(),a=e.autoNext?n?.toString()?`${s}?${n.toString()}`:s:n?.get("next"),o=e.hideLoginButton||s?.startsWith("/login"),c=e.hideSignUpButton||s?.startsWith("/signup");return(0,t.jsxs)(t.Fragment,{children:[o?null:(0,t.jsx)(l.ButtonLink,{"data-testid":(0,i.tid)("header","login"),href:a?`/login?next=${encodeURIComponent(a)}`:"/login",size:"small",type:"secondary",rel:"nofollow",prefetch:e.prefetch,children:(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:"Login"})}),c?null:(0,t.jsx)(l.ButtonLink,{id:"header-sign-up-btn","data-testid":(0,i.tid)("header","sign-up"),href:a?`/signup?next=${encodeURIComponent(a)}`:"/signup",size:"small",type:o?"secondary":"default",rel:"nofollow",prefetch:e.prefetch,children:(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:"Sign Up"})})]})}function o(){return(0,t.jsx)(s.Skeleton,{height:32,width:75})}e.s(["LoggedOutHeaderActions",0,function(e){return(0,t.jsxs)("nav",{className:"flex flex-row items-center justify-end gap-2 lg:gap-3 flex-initial",children:[!e.hideContactButton&&(0,t.jsx)(l.Link,{href:"/contact",children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Contact"})}),(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)(o,{}),children:(0,t.jsx)(a,{...e})})]})}])},8026214,e=>{"use strict";var t=e.i(4205214),s=e.i(2504781),i=e.i(8980981),r=e.i(5836125),n=e.i(5055193),l=e.i(4991687),a=e.i(6694387),o=e.i(8674454),c=e.i(7048904),d=e.i(7681880),u=e.i(9016063),m=e.i(380513);e.s(["DevToolsButton",0,function(){let{data:e}=(0,m.useFeatureFlags)(),x=e?.["enable-domains-search-buy-dev-tools"]||!1,h=(0,i.useAtomSet)(r.orderIdRx),f=(0,d.useInformationForm)(),[p,j]=(0,u.useDomainDebounceAmount)();return x?(0,t.jsx)("div",{className:"hidden lg:block",children:(0,t.jsxs)(l.MenuContainer,{children:[(0,t.jsx)(a.MenuButton,{type:"alert",size:"small",children:"Dev Tools"}),(0,t.jsx)(o.Menu,{width:300,children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 p-2",children:[(0,t.jsx)(s.Button,{type:"error",size:"small",onClick:()=>h(n.Option.none()),children:"Clear cart and stored order"}),(0,t.jsx)(s.Button,{size:"small",onClick:()=>{f.setFieldValue("firstName","John"),f.setFieldValue("lastName","Doe"),f.setFieldValue("email","ethan.niser@vercel.com"),f.setFieldValue("phone","+1234567890"),f.setFieldValue("address1","123 Main St"),f.setFieldValue("city","Anytown"),f.setFieldValue("state","CA"),f.setFieldValue("zip","12345"),f.setFieldValue("country","US"),f.validateAllFields("change")},children:"Autofill registrant info"}),(0,t.jsx)("div",{className:"flex flex-row gap-2",children:(0,t.jsxs)("form",{children:["Search debounce: ",p,"ms",(0,t.jsx)(c.Slider,{min:0,max:1e3,step:10,value:[p],onValueChange:e=>j(e[0])})]})})]})})]})}):null}])},4323404,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M12.8536 8.7071C13.2441 8.31657 13.2441 7.68341 12.8536 7.29288L9.03034 3.46966L8.50001 2.93933L7.43935 3.99999L7.96968 4.53032L11.4393 7.99999L7.96968 11.4697L7.43935 12L8.50001 13.0607L9.03034 12.5303L12.8536 8.7071ZM7.85356 8.7071C8.24408 8.31657 8.24408 7.68341 7.85356 7.29288L4.03034 3.46966L3.50001 2.93933L2.43935 3.99999L2.96968 4.53032L6.43935 7.99999L2.96968 11.4697L2.43935 12L3.50001 13.0607L4.03034 12.5303L7.85356 8.7071Z" fill="currentColor"/>');e.s(["ChevronDoubleRight",0,t])},9492491,e=>{e.v({comboboxLabel:"team-selector-module__vrKVjW__comboboxLabel",input:"team-selector-module__vrKVjW__input",tooltip:"team-selector-module__vrKVjW__tooltip"})},795626,e=>{"use strict";var t=e.i(4205214),s=e.i(2504781),i=e.i(455575),r=e.i(5468328),n=e.i(1492947),l=e.i(57106),a=e.i(4323404),o=e.i(8660982),c=e.i(5806401),d=e.i(1648405),u=e.i(923772),m=e.i(3654578),x=e.i(9977037),h=e.i(8980981),f=e.i(5836125),p=e.i(2872894),j=e.i(3299978),g=e.i(6881349),y=e.i(4585051),v=e.i(5255926),b=e.i(5756088),w=e.i(6228447),k=e.i(4600551),N=e.i(9492491),C=e.i(5338940),S=e.i(8060284);function L(e){let{disabled:s,onChange:i,value:r,loading:n,comboboxContainer:l,isTeamSelectable:a,getTeamDisabledTooltip:c,tooltipPosition:d="right"}=e,u=(0,C.useSortedTeams)(),[m,x]=(0,o.useState)(!1);return(0,t.jsx)(v.Skeleton,{show:n,style:n?{overflow:"hidden"}:void 0,className:"w-full",children:(0,t.jsxs)(g.Combobox,{clearable:!1,disabled:s,displaySelectedSuffix:!0,noRawSelectedValue:!0,onChange:i,placeholder:"Select a Vercel Team",value:r,children:[(0,t.jsx)(g.Combobox.Input,{className:N.default.input}),(0,t.jsx)("div",{className:"domains-combobox-wrapper",children:(0,t.jsx)(g.Combobox.List,{container:l,children:(0,t.jsxs)(t.Fragment,{children:[u.map(e=>(0,t.jsx)(M,{disabled:s,setShowMissingPermissions:x,team:e,isTeamSelectable:a,getTeamDisabledTooltip:c,tooltipPosition:d},e.slug)),m?(0,t.jsx)(g.Combobox.Option,{className:N.default.comboboxLabel,disabled:!0,value:"missing-permissions",children:(0,t.jsx)("p",{className:"text-copy-13",children:"Missing Permissions"})}):null]})})})]})})}function M(e){let{team:s,setShowMissingPermissions:i,disabled:n,isTeamSelectable:l,getTeamDisabledTooltip:a,tooltipPosition:c="right"}=e,d=(0,w.getTeamLimitedBy)(s),u=1===d.length&&d.includes("mfa"),m=!(l?l(s):(0,S.teamCanPurchaseDomains)(s)&&!u);(0,o.useEffect)(()=>{m&&i(!0)},[m,i]);let x=m?a?a(s):E(s):null;return(0,t.jsx)(r.Tooltip,{className:N.default.tooltip,position:c,style:{display:"inherit"},text:x,disableTriggers:!m,children:(0,t.jsx)(g.Combobox.Option,{disabled:m,displayLast:m,label:s.name,prefix:(0,t.jsx)(y.Avatar,{size:16,teamId:s.id}),suffix:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(k.PlanBadge,{disabled:n,team:s}),x?(0,t.jsx)(r.Tooltip,{text:x,children:(0,t.jsx)(b.LockClosed,{size:16})}):null]}),value:s.slug,children:s.name})})}function E(e){let t=(0,w.getTeamLimitedBy)(e);if(t.includes("mfa"))return"This team requires multi-factor authentication to be enabled. Please complete MFA setup to purchase domains.";if(t.includes("scope"))return"You must re-authenticate to purchase domains for this team.";if(!e.billing)return"Billing is not configured for this team, please set it up before continuing.";if("overdue"===e.billing.status)return"You have existing bills overdue. Please resolve this in your billing tab before continuing.";if("expired"===e.billing.status)return"Your billing is expired. Please renew it before continuing.";if("canceled"===e.billing.status)return"Your billing is canceled. Please renew it before continuing.";let s=e.membership?.role;return"OWNER"===s||"MEMBER"===s||"BILLING"===s?null:"You are missing permissions, only users with member or higher role can purchase domains. Please request a higher role to purchase a domain."}var R=e.i(5140444),T=e.i(6835039),A=e.i(5677444),P=e.i(5300248),F=e.i(2062532),W=e.i(6273282),D=e.i(2518763),O=e.i(3501042),B=e.i(1445448),I=e.i(6503210),z=e.i(2726583),_=e.i(1524216),V=e.i(9497079),U=e.i(7589187),$=e.i(9016063),Y=e.i(3280682),H=e.i(1444258);function q(e){let{open:s,setOpen:i,orderResult:r}=e;return(0,t.jsxs)(c.Sheet,{open:s,onOpenChange:i,children:[(0,t.jsx)(c.SheetTrigger,{asChild:!0,children:(0,t.jsx)(G,{orderResult:r})}),s&&(0,t.jsx)("div",{className:"fixed inset-0 top-[65px] z-[99] bg-background-200/50",onClick:()=>i(!1)}),(0,t.jsx)(c.SheetContent,{style:{animationFillMode:"forwards"},noOverlay:!0,"aria-describedby":"cart-sheet",className:"flex w-96 flex-col items-start justify-start overflow-hidden bg-background-100 p-0 md:top-[65px] md:h-[calc(100dvh-65px)] flex-1 overflow-y-auto border-l shadow-none divide-y gap-0 pb-[env(safe-area-inset-bottom)]",children:(0,t.jsx)(ee,{setOpen:i})})]})}function K(e){let{open:s,setOpen:i,orderResult:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(G,{orderResult:r,onClick:()=>i(!0)}),(0,t.jsx)(n.Drawer,{show:s,onDismiss:()=>i(!1),height:"90dvh",children:(0,t.jsx)("div",{className:"flex flex-col items-start justify-start overflow-hidden bg-background-100 p-0 flex-1 overflow-y-auto border-l shadow-none divide-y gap-0 pb-[env(safe-area-inset-bottom)] h-[80dvh]",children:(0,t.jsx)(ee,{setOpen:i})})})]})}function G(e){let{orderResult:i,onClick:r}=e;return(0,t.jsxs)(s.Button,{type:"secondary",size:"small",svgOnly:!0,"aria-label":"Cart",className:"relative size-8 min-[600px]:size-auto",onClick:r,children:[(0,t.jsxs)("div",{className:"flex flex-row h-fit items-center gap-2",children:[(0,t.jsx)(d.Cart,{}),(0,t.jsx)("span",{className:"hidden min-[600px]:block",children:"Cart"})]}),x.Result.builder(i).onSuccess(e=>e.items.length>0?(0,t.jsx)("div",{className:"absolute -top-[2px] -right-[2px] h-2 w-2 rounded-full bg-blue-700"}):null).orNull()]})}function X(){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center size-full gap-5",children:[(0,t.jsxs)("div",{className:"relative p-3 text-gray-500 rounded-[6px]",children:[(0,t.jsx)(d.Cart,{color:"currentColor",size:25.6}),(0,t.jsx)("svg",{className:"pointer-events-none absolute inset-0 h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none","aria-hidden":!0,children:(0,t.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:3,vectorEffect:"non-scaling-stroke",children:[(0,t.jsx)("line",{x1:"9.909091",y1:"1",x2:"18.818182",y2:"1",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"27.727273",y1:"1",x2:"36.636364",y2:"1",strokeWidth:3}),(0,t.jsx)("line",{x1:"45.545455",y1:"1",x2:"54.454545",y2:"1",strokeWidth:3}),(0,t.jsx)("line",{x1:"63.363636",y1:"1",x2:"72.272727",y2:"1",strokeWidth:3}),(0,t.jsx)("line",{x1:"81.181818",y1:"1",x2:"90.090909",y2:"1",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"1",y1:"9.909091",x2:"1",y2:"18.818182",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"1",y1:"27.727273",x2:"1",y2:"36.636364"}),(0,t.jsx)("line",{x1:"1",y1:"45.545455",x2:"1",y2:"54.454545",strokeWidth:3}),(0,t.jsx)("line",{x1:"1",y1:"63.363636",x2:"1",y2:"72.272727",strokeWidth:3}),(0,t.jsx)("line",{x1:"1",y1:"81.181818",x2:"1",y2:"90.090909",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"9.909091",y1:"99",x2:"18.818182",y2:"99",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"27.727273",y1:"99",x2:"36.636364",y2:"99",strokeWidth:3}),(0,t.jsx)("line",{x1:"45.545455",y1:"99",x2:"54.454545",y2:"99",strokeWidth:3}),(0,t.jsx)("line",{x1:"63.363636",y1:"99",x2:"72.272727",y2:"99"}),(0,t.jsx)("line",{x1:"81.181818",y1:"99",x2:"90.090909",y2:"99",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"99",y1:"9.909091",x2:"99",y2:"18.818182",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"99",y1:"27.727273",x2:"99",y2:"36.636364",strokeWidth:3}),(0,t.jsx)("line",{x1:"99",y1:"45.545455",x2:"99",y2:"54.454545",strokeWidth:3}),(0,t.jsx)("line",{x1:"99",y1:"63.363636",x2:"99",y2:"72.272727"}),(0,t.jsx)("line",{x1:"99",y1:"81.181818",x2:"99",y2:"90.090909",strokeLinecap:"round",strokeWidth:3})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 justify-center",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-label-16",children:"Your cart is empty"}),(0,t.jsx)("span",{className:"text-gray-900 text-label-14",children:"Add domains to your cart to get started"})]})]})}function Q(e){let{items:s,total:i}=e,n=(0,o.useRef)(null),[a,c]=(0,S.useTeamFromScope)(),d=0===s.length,u=(0,S.teamCanPurchaseDomains)(a),m=s.length>50,x=i>1e4,h=null;d&&(h="Your cart is empty. Add domains to proceed to checkout."),m&&(h=`You have ${s.length} domains in your cart, which exceeds our limit of 50 domains per order.`),x&&(h=`Your cart total of ${(0,V.formatPrice)(i)} exceeds our limit of ${(0,V.formatPrice)(1e4)} per order.`);let f=E(a);return f&&(h=f),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col items-start justify-center w-full px-4 pt-3 pb-5 gap-3",ref:n,children:[(0,t.jsx)("p",{className:"font-semibold text-sm",children:"Team"}),(0,t.jsx)(L,{disabled:!1,loading:!1,onChange:e=>{null!==e&&c(e)},value:a.slug,comboboxContainer:n.current,tooltipPosition:"left"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-center w-full p-4 gap-4",children:[s.length>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between w-full font-medium",children:[(0,t.jsx)("p",{children:"Total"}),(0,t.jsx)("span",{className:"flex flex-row items-baseline",children:(0,t.jsx)("span",{className:"font-medium",children:(0,V.formatPrice)(i)})})]}),(0,t.jsx)(r.Tooltip,{text:h,disableTriggers:null===h,className:"w-full",boxAlign:"center",children:(0,t.jsx)(l.ButtonLink,{href:"/domains/checkout",className:"w-full",size:"medium",disabled:d||!u||m||x,children:"Proceed to Checkout"})})]})]})}function Z(e){let{items:s,total:i}=e,r=(0,A.useSearchParams)(),n=r?.toString()||"",a=`/domains/search${n?`?${n}`:""}`,o=`/login?next=${encodeURIComponent(a)}`;return(0,t.jsxs)("div",{className:"flex flex-col items-start justify-center w-full p-4 gap-4",children:[s.length>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between w-full font-medium",children:[(0,t.jsx)("p",{children:"Total"}),(0,t.jsx)("span",{className:"flex flex-row items-baseline",children:(0,t.jsx)("span",{className:"font-medium",children:(0,V.formatPrice)(i)})})]}),(0,t.jsx)(l.ButtonLink,{href:o,className:"w-full",size:"medium",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 font-normal",children:[(0,t.jsx)(T.VercelMark,{size:16,color:"var(--ds-background-100)"}),(0,t.jsx)("span",{children:"Sign in to checkout"})]})})]})}function J(){let e=(0,$.useIsMobile)();return null===e||e?null:(0,t.jsx)(c.SheetTitle,{children:"Your Cart"})}function ee(e){let{setOpen:i}=e,r=(0,h.useAtomValue)(f.orderStateRx),n=(0,R.useUser)(),l=x.Result.builder(r).onSuccess(e=>e.items).onErrorTag("NoSuchElementException",()=>[]).orElse(()=>[]),o=l.reduce((e,t)=>e+t.price,0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"inline-flex items-center justify-between w-full bg-background-100 px-4 py-2 flex-shrink-0",children:[(0,t.jsx)("div",{className:"hidden",children:(0,t.jsx)(J,{})}),(0,t.jsx)("p",{className:"text-label-16 md:text-heading-20 font-medium md:font-semibold leading-relaxed",children:"Your Cart"}),(0,t.jsx)(s.Button,{type:"tertiary",svgOnly:!0,"aria-label":"Close",size:"small",onClick:()=>i(!1),className:"hidden md:block",children:(0,t.jsx)(a.ChevronDoubleRight,{size:16})})]}),0===l.length?(0,t.jsx)(X,{}):(0,t.jsx)(es,{items:l}),void 0!==n.user?(0,t.jsx)(Q,{items:l,total:o}):(0,t.jsx)(Z,{items:l,total:o})]})}function et(e){let{domainName:s,price:n,renewalPrice:l,years:a}=e,[o,c]=(0,h.useAtom)(j.removeFromCartRx,{mode:"promiseExit"}),[d,p]=(0,h.useAtom)(j.saveDomainRx,{mode:"promiseExit"}),[g,y]=(0,h.useAtom)(j.unsaveDomainRx,{mode:"promiseExit"}),v=(0,i.useToasts)(),b=(0,U.safePunycodeToUnicode)(s),{handleModeMismatchError:w}=(0,$.useModeMismatchModal)(),k=(0,$.useTldMetadataMap)(),N=P.Schemas.DomainName.tld(s),C=k.get(N),S=C&&!1===C.whoisPrivacy,L=(0,R.useUser)(),M=(0,h.useAtomValue)((0,f.isDomainSavedRx)(s)),E=x.Result.builder(M).onSuccess(e=>e).orElse(()=>!1),T=async()=>{let e=await c({domain:s});if(z.Exit.isFailure(e)){let t=B.Cause.failureOrCause(e.cause);if(I.Either.isLeft(t)){let e=t.left;console.error(e),_.Match.value(e).pipe(_.Match.tag("OrderModeMismatchError",()=>{w()}),_.Match.orElse(()=>{v.error("Failed to remove from cart")}))}else console.error(t.right),v.error("Failed to remove from cart")}},A=async()=>{let e=await c({domain:s});if(z.Exit.isFailure(e)){let t=B.Cause.failureOrCause(e.cause);if(I.Either.isLeft(t)){let e=t.left;console.error(e),_.Match.value(e).pipe(_.Match.tag("OrderModeMismatchError",()=>{w()}),_.Match.orElse(()=>{v.error("Failed to save for later")}))}else console.error(t.right),v.error("Failed to save for later");return}let t=await p({domain:s});z.Exit.isFailure(t)?(console.error(t.cause),v.error("Failed to save for later")):v.success(`Saved ${b} for later`)},O=async()=>{let e=await y({domain:s});if(z.Exit.isFailure(e)){let t=B.Cause.failureOrCause(e.cause);I.Either.isLeft(t)?console.error(t.left):console.error(t.right),v.error("Failed to remove from saved")}};return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-between px-[6px] py-3 gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between items-center w-full text-sm gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-1 overflow-hidden",children:[(0,t.jsx)(F.DomainLabel,{domainUnicode:b,truncate:!0,className:"text-label-16 font-medium flex-1 min-w-0 text-[16px] text-black"}),(0,t.jsx)(W.DomainBadge,{years:a}),S?(0,t.jsx)(H.WhoisPrivacyBadge,{tld:N}):null]}),(0,t.jsx)(V.DomainPrice,{price:{price:n,years:a,renewalPrice:l},amountClassName:"font-semibold"})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between items-center w-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-0.5 -ml-1",children:[(0,t.jsx)(r.Tooltip,{text:"Remove from cart",children:(0,t.jsx)("button",{type:"button","aria-label":"Remove from cart",onClick:T,className:"p-1 cursor-pointer select-none text-gray-600 hover:text-gray-900 border-0 bg-transparent",children:(0,t.jsx)(u.Trash,{size:14})})}),L.user&&(E?(0,t.jsx)(r.Tooltip,{text:"Remove from saved",children:(0,t.jsx)("button",{type:"button","aria-label":"Remove from saved",onClick:O,className:"p-1 cursor-pointer select-none text-gray-600 hover:text-gray-900 border-0 bg-transparent",children:(0,t.jsx)(D.BookmarkFilled,{size:14})})}):(0,t.jsx)(r.Tooltip,{text:"Save for later",children:(0,t.jsx)("button",{type:"button","aria-label":"Save for later",onClick:A,className:"p-1 cursor-pointer select-none text-gray-600 hover:text-gray-900 border-0 bg-transparent",children:(0,t.jsx)(m.Bookmark,{size:14})})}))]}),(0,t.jsxs)("p",{className:"text-xs text-gray-700",children:["Renews at ",(0,V.formatPrice)(l)]})]})]})}function es(e){let{items:s}=e;return(0,t.jsx)("div",{className:"flex-1 w-full min-h-0",children:(0,t.jsx)(Y.ScrollableList,{className:"divide-y px-4 py-1",fillHeight:!0,children:s.map(e=>(0,t.jsx)(et,{domainName:e.domainName,price:e.price,renewalPrice:e.renewalPrice,years:e.years},e.domainName))})})}e.s(["Checkout",0,function(){let{checkoutOpen:e,setCheckoutOpen:s}=(0,p.useSheets)(),i=(0,h.useAtomValue)(f.orderStateRx),r=(0,A.usePathname)(),n=(0,$.useIsMobile)();return((0,O.useLoadStripe)(),"/domains/postcheckout"===r||"/domains-new-search-buy/postcheckout"===r||"/domains/checkout"===r||"/domains-new-search-buy/checkout"===r)?null:null===n?(0,t.jsx)(G,{orderResult:i}):n?(0,t.jsx)(K,{open:e,setOpen:s,orderResult:i}):(0,t.jsx)(q,{open:e,setOpen:s,orderResult:i})}],795626)},3359018,e=>{"use strict";var t=e.i(4205214),s=e.i(2504781),i=e.i(1492947),r=e.i(5255926),n=e.i(5468328),l=e.i(57106),a=e.i(4323404),o=e.i(5806401),c=e.i(3654578),d=e.i(923772),u=e.i(6318858),m=e.i(9977037),x=e.i(8980981),h=e.i(5836125),f=e.i(2872894),p=e.i(3299978),j=e.i(3501042),g=e.i(5140444),y=e.i(5677444),v=e.i(5300248),b=e.i(2062532),w=e.i(6273282),k=e.i(9497079),N=e.i(2726583),C=e.i(6503210),S=e.i(1445448),L=e.i(1524216),M=e.i(9016063),E=e.i(7589187),R=e.i(3280682),T=e.i(455575);function A(e){let{open:s,setOpen:i,savedDomainsResult:r}=e;return(0,t.jsxs)(o.Sheet,{open:s,onOpenChange:i,children:[(0,t.jsx)(o.SheetTrigger,{asChild:!0,children:(0,t.jsx)(F,{savedDomainsResult:r})}),s&&(0,t.jsx)("div",{className:"fixed inset-0 top-[65px] z-[99] bg-background-200/50",onClick:()=>i(!1)}),(0,t.jsx)(o.SheetContent,{style:{animationFillMode:"forwards"},noOverlay:!0,"aria-describedby":"saved-sheet",className:"flex w-96 flex-col items-start justify-start overflow-hidden bg-background-100 p-0 md:top-[65px] md:h-[calc(100dvh-65px)] flex-1 overflow-y-auto border-l shadow-none divide-y gap-0 pb-[env(safe-area-inset-bottom)]",children:(0,t.jsx)(O,{setOpen:i})})]})}function P(e){let{open:s,setOpen:r,savedDomainsResult:n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F,{savedDomainsResult:n,onClick:()=>r(!0)}),(0,t.jsx)(i.Drawer,{show:s,onDismiss:()=>r(!1),height:"90dvh",children:(0,t.jsx)("div",{className:"flex flex-col items-start justify-start overflow-hidden bg-background-100 p-0 flex-1 overflow-y-auto border-l shadow-none divide-y gap-0 pb-[env(safe-area-inset-bottom)] h-[80dvh]",children:(0,t.jsx)(O,{setOpen:r})})})]})}function F(e){let{savedDomainsResult:i,onClick:r}=e;return(0,t.jsxs)(s.Button,{type:"secondary",size:"small",svgOnly:!0,"aria-label":"Saved domains",className:"relative size-8 min-[600px]:size-auto",onClick:r,children:[(0,t.jsxs)("div",{className:"flex flex-row h-fit items-center gap-2",children:[(0,t.jsx)(c.Bookmark,{}),(0,t.jsx)("span",{className:"hidden min-[600px]:block",children:"Saved"})]}),m.Result.builder(i).onSuccess(e=>e.length>0?(0,t.jsx)("div",{className:"absolute -top-[2px] -right-[2px] h-2 w-2 rounded-full bg-blue-700"}):null).orNull()]})}function W(){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center size-full gap-5",children:[(0,t.jsxs)("div",{className:"relative p-3 text-gray-500 rounded-[6px]",children:[(0,t.jsx)(c.Bookmark,{color:"currentColor",size:25.6}),(0,t.jsx)("svg",{className:"pointer-events-none absolute inset-0 h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none","aria-hidden":!0,children:(0,t.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:3,vectorEffect:"non-scaling-stroke",children:[(0,t.jsx)("line",{x1:"9.909091",y1:"1",x2:"18.818182",y2:"1",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"27.727273",y1:"1",x2:"36.636364",y2:"1",strokeWidth:3}),(0,t.jsx)("line",{x1:"45.545455",y1:"1",x2:"54.454545",y2:"1",strokeWidth:3}),(0,t.jsx)("line",{x1:"63.363636",y1:"1",x2:"72.272727",y2:"1",strokeWidth:3}),(0,t.jsx)("line",{x1:"81.181818",y1:"1",x2:"90.090909",y2:"1",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"1",y1:"9.909091",x2:"1",y2:"18.818182",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"1",y1:"27.727273",x2:"1",y2:"36.636364"}),(0,t.jsx)("line",{x1:"1",y1:"45.545455",x2:"1",y2:"54.454545",strokeWidth:3}),(0,t.jsx)("line",{x1:"1",y1:"63.363636",x2:"1",y2:"72.272727",strokeWidth:3}),(0,t.jsx)("line",{x1:"1",y1:"81.181818",x2:"1",y2:"90.090909",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"9.909091",y1:"99",x2:"18.818182",y2:"99",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"27.727273",y1:"99",x2:"36.636364",y2:"99",strokeWidth:3}),(0,t.jsx)("line",{x1:"45.545455",y1:"99",x2:"54.454545",y2:"99",strokeWidth:3}),(0,t.jsx)("line",{x1:"63.363636",y1:"99",x2:"72.272727",y2:"99"}),(0,t.jsx)("line",{x1:"81.181818",y1:"99",x2:"90.090909",y2:"99",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"99",y1:"9.909091",x2:"99",y2:"18.818182",strokeLinecap:"round",strokeWidth:3}),(0,t.jsx)("line",{x1:"99",y1:"27.727273",x2:"99",y2:"36.636364",strokeWidth:3}),(0,t.jsx)("line",{x1:"99",y1:"45.545455",x2:"99",y2:"54.454545",strokeWidth:3}),(0,t.jsx)("line",{x1:"99",y1:"63.363636",x2:"99",y2:"72.272727"}),(0,t.jsx)("line",{x1:"99",y1:"81.181818",x2:"99",y2:"90.090909",strokeLinecap:"round",strokeWidth:3})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 justify-center text-center px-8",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-label-16",children:"No saved domains"}),(0,t.jsx)("span",{className:"text-gray-900 text-label-14",children:'To save a domain, click its name in the search result and choose "Save for later".'})]})]})}function D(){let e=(0,M.useIsMobile)();return null===e||e?null:(0,t.jsx)(o.SheetTitle,{children:"Saved Domains"})}function O(e){let{setOpen:i}=e,r=(0,x.useAtomValue)(h.savedDomainsRx),n=m.Result.builder(r).onSuccess(e=>e).orElse(()=>[]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"inline-flex items-center justify-between w-full bg-background-100 px-4 py-2 flex-shrink-0",children:[(0,t.jsx)("div",{className:"hidden",children:(0,t.jsx)(D,{})}),(0,t.jsx)("p",{className:"text-label-16 md:text-heading-20 font-medium md:font-semibold leading-relaxed",children:"Saved Domains"}),(0,t.jsx)(s.Button,{type:"tertiary",svgOnly:!0,"aria-label":"Close",size:"small",onClick:()=>i(!1),className:"hidden md:block",children:(0,t.jsx)(a.ChevronDoubleRight,{size:16})})]}),0===n.length?(0,t.jsx)(W,{}):(0,t.jsx)(V,{domains:[...n]}),(0,t.jsx)(B,{})]})}function B(){let e=(0,y.useSearchParams)(),i=e?.toString()||"",r=`/domains/search${i?`?${i}`:""}`,{setSavedOpen:n,switchToCheckout:a}=(0,f.useSheets)();return(0,t.jsxs)("div",{className:"flex flex-col items-start justify-center w-full p-4 gap-2",children:[(0,t.jsx)(l.ButtonLink,{href:r,className:"w-full",size:"medium",type:"secondary",onClick:()=>n(!1),children:"Continue searching"}),(0,t.jsx)(s.Button,{className:"w-full",size:"medium",type:"default",onClick:()=>a(),children:"Go to cart"})]})}function I(e){let{domain:s,expectedPrice:i}=e,[,r]=(0,x.useAtom)(p.addToCartRx,{mode:"promiseExit"}),[,l]=(0,x.useAtom)(p.removeFromCartRx,{mode:"promiseExit"}),a=(0,T.useToasts)(),{handleModeMismatchError:o}=(0,M.useModeMismatchModal)(),c=(0,x.useAtomValue)((0,h.itemInCartRx)(s)),d=m.Result.builder(c).onSuccess(e=>e).orElse(()=>!1),f=async()=>{let e=await r({tldPrice:i,domain:s,fromAiSuggestion:!1});if(N.Exit.isFailure(e)){let t=S.Cause.failureOrCause(e.cause);if(C.Either.isLeft(t)){let e=t.left;console.error(e),L.Match.value(e).pipe(L.Match.tag("OrderModeMismatchError",()=>{o()}),L.Match.orElse(()=>{a.error("Failed to add to cart")}))}else console.error(t.right),a.error("Failed to add to cart")}},j=async()=>{let e=await l({domain:s});if(N.Exit.isFailure(e)){let t=S.Cause.failureOrCause(e.cause);if(C.Either.isLeft(t)){let e=t.left;console.error(e),L.Match.value(e).pipe(L.Match.tag("OrderModeMismatchError",()=>{o()}),L.Match.orElse(()=>{a.error("Failed to remove from cart")}))}else console.error(t.right),a.error("Failed to remove from cart")}};return d?(0,t.jsx)(n.Tooltip,{text:"Remove from cart",children:(0,t.jsx)("button",{type:"button","aria-label":"Remove from cart",onClick:j,className:"p-1 cursor-pointer select-none text-gray-600 hover:text-gray-900 border-0 bg-transparent",children:(0,t.jsx)(u.Check,{size:14})})}):(0,t.jsx)(n.Tooltip,{text:"Add to cart",children:(0,t.jsx)("button",{type:"button","aria-label":`Add ${s} to cart`,onClick:f,className:"p-1 cursor-pointer select-none text-gray-600 hover:text-gray-900 border-0 bg-transparent",children:(0,t.jsx)(z,{className:"size-[14px]"})})})}function z(e){let{className:s}=e;return(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:s,children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_saved_cart)",children:[(0,t.jsx)("path",{d:"M1.3667 1.36667H2.70003L4.47337 9.64667C4.53842 9.94991 4.70715 10.221 4.95051 10.4132C5.19387 10.6055 5.49664 10.7069 5.8067 10.7H12.3267C12.6302 10.6995 12.9244 10.5955 13.1607 10.4052C13.3971 10.2149 13.5615 9.94969 13.6267 9.65334L14.1767 7.17667M9.33333 4.7H3.41337",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M11 3H15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M13 1V5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("circle",{cx:"12",cy:"14.5",r:"1.5",transform:"rotate(90 12 14.5)",className:"fill-current"}),(0,t.jsx)("circle",{cx:"5.5",cy:"14.5",r:"1.5",transform:"rotate(90 5.5 14.5)",className:"fill-current"})]}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_saved_cart",children:(0,t.jsx)("rect",{width:"16",height:"16",className:"fill-current"})})})]})}function _(e){let{domainName:s}=e,[i,l]=(0,x.useAtom)(p.unsaveDomainRx,{mode:"promiseExit"}),a=(0,T.useToasts)(),o=(0,E.safePunycodeToUnicode)(s),c=(0,M.useTldMetadataMap)(),u=v.Schemas.DomainName.tld(s),f=(0,M.useTldPrice)(u),g=c.get(u),y=(0,E.isPunycodeDomain)(s),L=g?.supportsIdn??!0,R=(0,j.useDomainStateAlwaysEnabled)(s),A=async()=>{let e=await l({domain:s});if(N.Exit.isFailure(e)){let t=S.Cause.failureOrCause(e.cause);C.Either.isLeft(t)?console.error(t.left):console.error(t.right),a.error("Failed to remove from saved")}},P=m.Result.builder(R).onSuccess(e=>(0,h.matchSearchResult)(e,{onAvailable:e=>{let{premiumPrice:t}=e;return!!t},onUnavailable:()=>!1})).onInitial(()=>!1).onError(()=>!1).render(),F=m.Result.builder(R).onSuccess(()=>!1).onInitial(()=>!0).onError(()=>!1).render(),W=y&&!L,D=(0,t.jsx)(n.Tooltip,{text:`The .${u} TLD does not support internationalized domain names (IDN).`,children:(0,t.jsx)("span",{className:"text-label-14 font-medium text-gray-800",children:"Unsupported"})}),O=W?"text-gray-800":m.Result.builder(R).onSuccess(e=>(0,h.matchSearchResult)(e,{onAvailable:()=>"text-black",onUnavailable:()=>"text-gray-800"})).orElse(()=>"text-black");return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-between px-[6px] py-3 gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between items-center w-full text-sm gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-1 overflow-hidden",children:[(0,t.jsx)(b.DomainLabel,{domainUnicode:o,truncate:!0,className:`text-label-16 font-medium flex-1 min-w-0 text-[16px] ${O}`}),(0,t.jsx)(w.DomainBadge,{isPremium:P,isPremiumLoading:F,years:f.years})]}),W?D:m.Result.builder(R).onSuccess(e=>(0,h.matchSearchResult)(e,{onAvailable:e=>{let{premiumPrice:s}=e,i=s?{price:v.Schemas.Dollars.unsafeMake(s),years:f.years,renewalPrice:f.renewalPrice}:f;return(0,t.jsx)(k.DomainPrice,{price:i,amountClassName:"font-semibold"})},onUnavailable:()=>(0,t.jsx)("span",{className:"text-label-14 font-medium text-gray-800",children:"Unavailable"})})).onInitial(()=>(0,t.jsx)(r.Skeleton,{width:60,height:20})).onError(()=>(0,t.jsx)("span",{className:"text-label-14 text-gray-800",children:"Error"})).render()]}),(0,t.jsx)("div",{className:"flex flex-row justify-between items-center w-full",children:(0,t.jsxs)("div",{className:"flex items-center gap-0.5 -ml-1",children:[(0,t.jsx)(n.Tooltip,{text:"Remove from saved",children:(0,t.jsx)("button",{type:"button","aria-label":"Remove from saved",onClick:A,className:"p-1 cursor-pointer select-none text-gray-600 hover:text-gray-900 border-0 bg-transparent",children:(0,t.jsx)(d.Trash,{size:14})})}),!W&&m.Result.builder(R).onSuccess(e=>(0,h.matchSearchResult)(e,{onAvailable:e=>{let{premiumPrice:i}=e,r=i?{price:v.Schemas.Dollars.unsafeMake(i),years:f.years,renewalPrice:f.renewalPrice}:f;return(0,t.jsx)(I,{domain:s,expectedPrice:r})},onUnavailable:()=>null})).orElse(()=>null)]})})]})}function V(e){let{domains:s}=e;return(0,t.jsx)("div",{className:"flex-1 w-full min-h-0",children:(0,t.jsx)(R.ScrollableList,{className:"divide-y px-4 py-1",fillHeight:!0,children:s.map(e=>(0,t.jsx)(_,{domainName:e.domainName},e.domainName))})})}e.s(["SavedDomains",0,function(){let{savedOpen:e,setSavedOpen:s}=(0,f.useSheets)(),i=(0,x.useAtomValue)(h.savedDomainsRx),r=(0,y.usePathname)(),n=(0,M.useIsMobile)(),l=(0,g.useUser)();return"/domains/postcheckout"!==r&&"/domains-new-search-buy/postcheckout"!==r&&"/domains/checkout"!==r&&"/domains-new-search-buy/checkout"!==r&&l.user?null===n?(0,t.jsx)(F,{savedDomainsResult:i}):n?(0,t.jsx)(P,{open:e,setOpen:s,savedDomainsResult:i}):(0,t.jsx)(A,{open:e,setOpen:s,savedDomainsResult:i}):null}])},3256836,e=>{"use strict";var t=e.i(4205214),s=e.i(2504781),i=e.i(8060284);e.s(["TestModeIndicator",0,function(){return"test"!==(0,i.useBillingMode)()?null:(0,t.jsx)(s.Button,{type:"warning",size:"small",disabled:!0,className:"pointer-events-none",children:"Test Mode"})}])},6250268,e=>{"use strict";var t=e.i(4205214),s=e.i(4557026),i=e.i(8980981),r=e.i(5836125),n=e.i(5055193);e.s(["FeedbackWithOrderId",0,function(e){let{location:l}=e,a=(0,i.useAtomValue)(r.orderIdRx).pipe(n.Option.getOrNull);return(0,t.jsx)(s.Feedback,{label:"domains-search-buy",metadata:{location:l,orderId:a}})}])},6664521,e=>{"use strict";var t=e.i(4205214),s=e.i(180876);e.s(["CookiesProvider",0,function(e){let{children:i}=e;return(0,t.jsx)(s.CookiesProvider,{children:i})}])}]);

//# debugId=cf19b804-0bb3-e810-c975-29095a2b1164
//# sourceMappingURL=02ead32366021f19.js.map