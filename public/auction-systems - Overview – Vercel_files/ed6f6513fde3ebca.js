;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f2b1f487-641d-9a69-461b-6191fb870d57")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4429570,e=>{"use strict";var t=e.i(4205214),n=e.i(6891161),r=e.i(455575),i=e.i(4030453),a=e.i(8660982),s=e.i(8042625),o=e.i(277234),l=e.i(4244280),c=e.i(5927860),d=e.i(7917902),u=e.i(4422059),m=e.i(4004502),g=e.i(5919007),f=e.i(9512272);e.i(7037808);var x=e.i(8824424),p=e.i(9584471),h=e.i(3500331),v=e.i(8206804),j=e.i(2014455),y=e.i(1261558);function C(e){let{advancedOptions:n,tokenLabelPlaceholder:r,onAdvancedOptionsChange:i,isLoading:a}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)(j.ResourceEnvironmentSelector,{environments:n.environments,error:n.error?.environments,onChange:e=>i({...n,environments:e,error:{...n.error,environments:void 0}}),resourceTitle:"store"}),(0,t.jsx)(y.StoreAdvancedOptionsExpander,{isExpandedDefault:!!n.error,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:(0,t.jsx)(h.Input,{"aria-label":"Environment Variable",disabled:a,error:n.error?.envVarName,label:"Environment Variable",onChange:e=>i({...n,envVarName:e.currentTarget.value,error:{...n.error,envVarName:void 0}}),placeholder:"EDGE_CONFIG",value:n.envVarName,width:"100%"})}),(0,t.jsx)(v.default,{margin:0}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:(0,t.jsx)(h.Input,{"aria-label":"Token label",disabled:a,label:"Token label",maxLength:g.EDGE_CONFIG_TOKEN_LABEL_MAX_LENGTH,onChange:e=>i({...n,tokenName:e.currentTarget.value}),placeholder:r,value:n.tokenName,width:"100%"})})]})})]})}function b(e){let{backOrCancelLabel:x,edgeConfig:h,title:v,subtitle:j,ProjectSelector:y,onClickOutside:b,onConnectionCreated:E,onBack:T,project:S}=e,{mutateByProtocol:w}=(0,p.useMutateResourceCache)(),[N,_]=(0,a.useState)({envVarName:"",tokenName:"",environments:{[c.EnvTarget.Development]:!0,[c.EnvTarget.Preview]:!0,[c.EnvTarget.Production]:!0,...S?.customEnvironments?.reduce((e,t)=>(e[t.slug]=!0,e),{})??{}}}),[k,I]=(0,a.useState)(!1),[A,M]=(0,a.useState)(null),{team:P}=(0,d.useAccount)(),R=(0,u.usePrevious)(S);(0,a.useEffect)(()=>{null!==N.error&&(!S||R&&S.id!==R.id)&&_({...N,error:null}),S&&(null===R||R&&S.id!==R.id)&&_({...N,environments:{[c.EnvTarget.Development]:!0,[c.EnvTarget.Preview]:!0,[c.EnvTarget.Production]:!0,...S.customEnvironments?.reduce((e,t)=>(e[t.slug]=!0,e),{})??{}}})},[N,R,S]);let O=(0,a.useMemo)(()=>{if(!S)return"";let e=S.name.slice(0,g.EDGE_CONFIG_TOKEN_LABEL_MAX_LENGTH-6);return`${e.replace(/-*$/g,"")}-token`},[S]),$=N.tokenName||O,L=N.envVarName||"EDGE_CONFIG",B=(0,a.useCallback)(async e=>{if(e.preventDefault(),!h||k||!S)return;let t=[c.EnvTarget.Production,c.EnvTarget.Preview,c.EnvTarget.Development,...S.customEnvironments?.map(e=>e.slug)||[]].filter(e=>N.environments[e]);try{if(M(null),I(!0),_({...N,error:null}),0===t.length){_({...N,error:{environments:"Select at least one Environment for your Environment Variable"}}),I(!1);return}if(S.env&&S.env.some(e=>e.key===L&&("string"==typeof e.target?t.includes(e.target):e.target.some(e=>t.includes(e))))){_({...N,error:{envVarName:1===t.length?`This project already has an environment variable called ${L} in the chosen environment.`:`This project already has an environment variable called ${L} in one of the chosen environments.`}}),I(!1);return}let e=await (0,o.fetchAPI)(`${l.API_EDGE_CONFIG}/${h.id}/token${(0,s.encode)({teamId:P?.id})}`,{method:"POST",throwOnHTTPError:!0,body:{label:$}});await (0,f.addEnvs)(S.id,[{name:L,value:`https://edge-config.vercel.com/${h.id}?token=${e.token}`,type:c.EnvType.Encrypted,target:t.filter(e=>(0,c.isSystemEnvTarget)(e)),customEnvironmentIds:t.filter(e=>!(0,c.isSystemEnvTarget)(e)).map(e=>{let t=S.customEnvironments?.find(t=>t.slug===e);return t?.id}).filter(e=>void 0!==e)}],P?.id),await E(),b(),r.toasts.success({text:`Connected Project ${S.name} to Edge Config ${h.slug}`,key:h.slug}),await w("storage")}catch(e){if(e instanceof Error)M(e);else throw e}finally{I(!1)}},[h,k,S,N,P?.id,$,L,E,b,w]);return(0,t.jsxs)("form",{onSubmit:e=>void B(e),children:[(0,t.jsx)(n.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(n.Modal.Title,{center:!0,children:v}),j?(0,t.jsx)(n.Modal.Subtitle,{children:j}):null]}),(0,t.jsx)(n.Modal.Inset,{last:!0,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[y,(0,t.jsx)(C,{advancedOptions:N,isLoading:k,onAdvancedOptionsChange:_,tokenLabelPlaceholder:S?O:""}),A?(0,t.jsx)(i.Error,{children:A.message}):null]})})]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:T,type:"secondary",children:x}),(0,t.jsx)(n.Modal.Action,{buttonType:"submit","data-testid":(0,m.tid)("connect-edge-config-modal","connect-button"),disabled:!S||""===L.trim()||""===$.trim(),loading:k,children:"Connect"})]})]})}e.s(["ConnectEdgeConfigModal",0,function(e){let{active:r,edgeConfig:i,onClickOutside:s,onConnectionCreated:o,onAnimationDone:l}=e,[c,u]=(0,a.useState)(null),{team:m,user:g}=(0,d.useAccount)(),f=m?m.slug:g?.username;return(0,t.jsx)(n.Modal.Modal,{active:r,allowOverflow:!0,onAnimationDone:l,onClickOutside:s,width:540,children:(0,t.jsx)(b,{ProjectSelector:(0,t.jsx)(x.ResourceProjectSelector,{account:f,allowSelectConnectedProjects:!0,includedInConnectedProjects:e=>e?.env?.some(e=>e.edgeConfigId===i?.id)??!1,onProjectSelected:e=>{u(e)},resourceTitle:"store",selectedProject:c}),backOrCancelLabel:"Cancel",edgeConfig:i,onBack:s,onClickOutside:s,onConnectionCreated:o,project:c,title:"Connect Project"})})},"CreateEdgeConfigConnectionModalStep",0,b],4429570)},2843591,e=>{"use strict";var t=e.i(850302),n=e.i(8660982),r=e.i(7222834),i=e.i(8042625),a=e.i(277234),s=e.i(4244280),o=e.i(5338940);e.i(6887680);var l=e.i(6810699);e.s(["mapEdgeConfigToStoreType",0,function(e){let{edgeConfig:t,project:n}=e;return{...t,type:"edge-config",projectsMetadata:n?[{projectId:n.id,name:n.name,framework:n.framework,id:"",environments:[],environmentVariables:[],envVarPrefix:null}]:[],name:t.slug,status:"available",totalConnectedProjects:+!!n}},"useEdgeConfig",0,function(e,n){let{isReady:r,team:l}=(0,o.useTeam)();return(0,t.default)(()=>e&&r?`${s.API_EDGE_CONFIG}/${encodeURIComponent(e)}${(0,i.encode)({teamId:l?.id})}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),n)},"useEdgeConfigBackup",0,function(e,n,r){let{isReady:l,team:c}=(0,o.useTeam)();return(0,t.default)(()=>e&&n&&"current"!==n&&l?`${s.API_EDGE_CONFIG}/${encodeURIComponent(e)}/backups/${encodeURIComponent(n)}${(0,i.encode)({teamId:c?.id})}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),r)},"useEdgeConfigBackupsInfinite",0,function(e,t,n){let{isReady:l,team:c}=(0,o.useTeam)();return(0,r.default)((t,r)=>{if(!e||!l||r&&!r.pagination.hasNext)return null;let a={teamId:c?.id,metadata:n?.metadata?"true":void 0,limit:n?.limit||25,next:r?.pagination.next};0===t&&(a.limit+=1);let o=`${s.API_EDGE_CONFIG}/${encodeURIComponent(e)}/backups`;return`${o}${(0,i.encode)(a)}`},e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),{revalidateFirstPage:!1,revalidateOnFocus:!1,...t})},"useEdgeConfigItems",0,function(e,n){let{isReady:r,team:l}=(0,o.useTeam)();return(0,t.default)(()=>e&&r?`${s.API_EDGE_CONFIG}/${encodeURIComponent(e)}/items${(0,i.encode)({teamId:l?.id})}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),n)},"useEdgeConfigSchema",0,function(e,n){let{isReady:r,team:l}=(0,o.useTeam)();return(0,t.default)(()=>e&&r?`${s.API_EDGE_CONFIG}/${encodeURIComponent(e)}/schema${(0,i.encode)({teamId:l?.id})}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),n)},"useEdgeConfigTokens",0,function(e,n){let{isReady:r,team:l}=(0,o.useTeam)();return(0,t.default)(()=>e&&r?`${s.API_EDGE_CONFIG}/${encodeURIComponent(e)}/tokens${(0,i.encode)({teamId:l?.id})}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),n)},"useEdgeConfigs",0,function(){let e=(0,l.useResourceList)({protocolType:"storage"});return{data:(0,n.useMemo)(()=>e.data?.stores.filter(e=>"edge-config"===e.type),[e.data?.stores])}}])},5919007,e=>{"use strict";e.s(["EDGE_CONFIG_TOKEN_LABEL_MAX_LENGTH",0,52,"getMaxEdgeConfigs",0,function(e){if("number"==typeof e.resourceConfig?.edgeConfigs)return e.resourceConfig.edgeConfigs;switch(e.billing?.plan){case"enterprise":return 10;case"pro":return"trialing"===e.billing.status?1:3;default:return 1}},"getSizeLimitInBytes",0,function(e){if("number"==typeof e.resourceConfig?.edgeConfigSize)return 1e3*e.resourceConfig.edgeConfigSize;switch(e.billing?.plan){case"enterprise":return 512e3;case"pro":return 64e3;default:return 8e3}}])},4348614,e=>{e.v({expanderWrapper:"store-advanced-options-expander-module__QIqk3G__expanderWrapper",expanderWrapperExpanded:"store-advanced-options-expander-module__QIqk3G__expanderWrapperExpanded"})},1261558,e=>{"use strict";var t=e.i(4205214),n=e.i(9722978);e.i(8703064);var r=e.i(7507521),i=e.i(4348614);e.s(["StoreAdvancedOptionsExpander",0,function(e){let{children:a,isExpandedDefault:s}=e;return(0,t.jsx)(r.Expander,{className:(0,n.clsx)(i.default.expanderWrapper),expandedClassName:i.default.expanderWrapperExpanded,isExpandedDefault:s,title:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial px-3 py-2",children:[(0,t.jsx)(r.ExpanderTrigger,{}),(0,t.jsx)("p",{className:"text-[13px] leading-[18px] font-medium text-gray-900",children:"Advanced Options"})]}),children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial px-3 py-2",children:a})})}])},8206804,e=>{"use strict";var t=e.i(4205214);e.s(["default",0,function(e){let{margin:n=50,className:r}=e;return(0,t.jsx)("hr",{className:r,style:{border:"0",borderTop:"1px solid var(--accents-2)",margin:"number"==typeof n?`${n}px 0`:`${n} 0`}})}])},9512272,e=>{"use strict";var t=e.i(8042625),n=e.i(277234),r=e.i(4244280),i=e.i(5927860);function a(e){return e.startsWith("VERCEL_")&&!e.startsWith("VERCEL_APP_")}function s(e){return e.map(e=>{let t,n=e.type;return void 0===n&&(n=a(e.name)?i.EnvType.System:i.EnvType.Encrypted),e.target&&(t=Array.isArray(e.target)?e.target:[e.target]),{type:n,key:e.name,value:n===i.EnvType.System?e.name:e.value,target:t??[i.EnvTarget.Production,i.EnvTarget.Preview,i.EnvTarget.Development],gitBranch:e.gitBranch,comment:e.comment,customEnvironmentIds:e.customEnvironmentIds}})}async function o(e,i,a){let o=s(i);return(0,n.fetchAPI)(`${(0,r.API_PROJECTS_VERSION)("v10")}/${e}/env${(0,t.encode)({teamId:a})}`,{method:"POST",body:JSON.stringify(o),throwOnHTTPError:!0})}async function l(e,i,a){await (0,n.fetchAPI)(`${(0,r.API_PROJECTS_VERSION)("v4")}/${e}/env/${i.key}${(0,t.encode)({teamId:a,target:i.target})}`,{method:"DELETE",throwOnHTTPError:!0})}e.s(["addEncryptedEnvs",0,s,"addEnvs",0,o,"isSystemEnv",0,a,"legacyRemoveEnv",0,l])},5377189,e=>{"use strict";var t=e.i(6565161),n=e.i(1717203),r=e.i(7557283);e.s(["useStorePermissions",0,function(e){let{storeType:i,teamSlug:a}=e,{fallback:s}=(0,t.useSWRConfig)(),{can:o,isLoading:l}=(0,n.default)(),c=a?s[i?`store:preload-data:${a}`:`store:list-preload-data:${a}`]:null;return{permissions:c?.permissions??function(e){let{storeType:t,can:n,isLoading:i}=e,a=function(e){switch(e){case"blob":return r.Resource.Blob;case"edge-config":return r.Resource.EdgeConfig;case"integration":return r.Resource.IntegrationResource;default:return null}}(t),s=function(e){switch(e){case"blob":return r.Resource.BlobStoreTokenSet;case"integration":return r.Resource.IntegrationStoreTokenSet;default:return null}}(t);return{list:n(r.Action.List,r.Resource.EdgeConfig)||n(r.Action.List,r.Resource.Blob),createAnyStore:n(r.Action.Create,r.Resource.EdgeConfig)||n(r.Action.Create,r.Resource.Blob),read:!!a&&n(r.Action.List,a),create:!!a&&n(r.Action.Create,a),remove:!!a&&n(r.Action.Delete,a),update:!!a&&n(r.Action.Update,a),updateSecrets:!!s&&n(r.Action.Update,s),readSecrets:!!s&&n(r.Action.Read,s),isLoading:i}}({storeType:i,can:o,isLoading:l})}}],5377189)},1758334,e=>{"use strict";var t=e.i(8660982);e.i(6887680);var n=e.i(6810699),r=e.i(3798983);function i(e){return"edge-config"===e?64:32}e.s(["MAX_STORE_NAME_LENGTH",0,32,"getStoreNameLengthByType",0,i,"useStoreName",0,e=>{let{storeType:a,storeId:s,...o}=e,l=(0,t.useMemo)(()=>{if("projectName"in o&&o.projectName){let e=r.storeDefaultNameSuffix[a];return[o.projectName.replaceAll("_","-").slice(0,i(a)-e.length),e].join("")}return"storeName"in o?o.storeName??"":""},[o,a]),[c,d]=(0,t.useState)(),[u,m]=(0,t.useState)(),{isNameTaken:g}=(0,n.useResourceList)({protocolType:"storage"});return{storeNameError:c,name:u??l,setName:(0,t.useCallback)(e=>{let t=e.trim(),n=i(a),r="edge-config"===a?1:5;d(void 0),m(t),t.length<r?d(`The name must be at least ${r} characters.`):t.length>n?d(`The name must be at most ${n} characters.`):/^[a-zA-Z0-9_-\s]*$/.test(t)?g({name:t,storeType:a,storeId:s})&&d("This name is already in use by another store"):d("The name can only contain letters, numbers, and the following characters: _ - ")},[g,a,s]),touched:!!u&&u!==l}}])},2886798,e=>{"use strict";e.i(9691190),e.i(1055938),e.i(680627),e.i(3183079),e.i(7512194),e.i(3788585),e.s([])},3322174,e=>{"use strict";var t=e.i(4205214),n=e.i(8660982),r=e.i(6060673);e.i(7037808);var i=e.i(7137779);e.i(5463680);var a=e.i(39509);e.i(3182268);var s=e.i(7849855);e.i(2886798);var o=e.i(3183079),l=e.i(4429570),c=e.i(3703009),d=e.i(2782729);e.s(["ConnectStoreSwitch",0,function(e){let{store:u}=e,{projectSlug:m}=(0,s.useProjectSlug)(),g=(0,r.useProject)(m),{onBack:f,onClose:x,state:p,onResourceUpdated:h}=(0,o.useResourceModalsContext)(),{type:v}=u,j=(0,n.useCallback)(()=>{h({resource:u,isConnected:!0})},[u,h]);if(p.type!==a.ResourceModalsActionTypes.CreateEnvs)return null;switch(v){case"edge-config":return(0,t.jsx)(l.CreateEdgeConfigConnectionModalStep,{backOrCancelLabel:p.backOrCancelLabel,edgeConfig:{id:u.id,slug:u.name},onBack:f,onClickOutside:x,onConnectionCreated:j,project:g.data,subtitle:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-center gap-1.5 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Connect to"}),(0,t.jsx)(c.StoreIconOrAvatar,{icon:(0,d.getStoreIcon)(u),size:"small",type:u.type,useColor:!0}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:u.name})]}),title:`Configure ${g.data?.name??""}`});case"blob":case"integration":return(0,t.jsx)(i.CreateResourceConnectionModalStep,{backOrCancelLabel:p.backOrCancelLabel,onBack:f,onClickOutside:x,onConnectionCreated:j,project:g.data,resourceId:u.id,store:u,subtitle:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-center gap-1.5 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Connect to"}),(0,t.jsx)(c.StoreIconOrAvatar,{icon:(0,d.getStoreIcon)(u),size:"small",type:u.type,useColor:!0}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:u.name})]}),title:`Configure ${g.data?.name??""}`});default:return null}},"ConnectStoreSwitchWithoutProject",0,function(e){let{active:n,store:r,key:a}=e,{onClose:s,onAnimationDone:c,onResourceUpdated:d}=(0,o.useResourceModalsContext)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.ConnectEdgeConfigModal,{active:"edge-config"===r.type&&n,edgeConfig:r,onAnimationDone:c,onClickOutside:s,onConnectionCreated:s},a),(0,t.jsx)(i.CreateResourceConnectionModal,{active:"edge-config"!==r.type&&n,onAnimationDone:c,onClickOutside:s,onConnectionCreated:()=>d({resource:r,isConnected:!0}),resourceId:r.id,store:r},a)]})}])},4714146,e=>{e.v({"warning-note":"warning-note-module__UV6e7q__warning-note","warning-note-link":"warning-note-module__UV6e7q__warning-note-link"})},8696994,e=>{e.v({betaBadge:"create-store-modal-module__Wmn6LG__betaBadge",itemContent:"create-store-modal-module__Wmn6LG__itemContent",itemDescription:"create-store-modal-module__Wmn6LG__itemDescription",itemTitle:"create-store-modal-module__Wmn6LG__itemTitle",modalBody:"create-store-modal-module__Wmn6LG__modalBody",storeContainer:"create-store-modal-module__Wmn6LG__storeContainer",storeGrid:"create-store-modal-module__Wmn6LG__storeGrid",storeItem:"create-store-modal-module__Wmn6LG__storeItem",storeItemCTA:"create-store-modal-module__Wmn6LG__storeItemCTA",storeItemColSpan2:"create-store-modal-module__Wmn6LG__storeItemColSpan2",storeItemDisabled:"create-store-modal-module__Wmn6LG__storeItemDisabled",storeItemSelected:"create-store-modal-module__Wmn6LG__storeItemSelected"})},8922739,562291,e=>{"use strict";var t=e.i(4205214),n=e.i(6891161),r=e.i(8923565),i=e.i(4004502),a=e.i(8660982),s=e.i(6352514),o=e.i(1853611);e.i(6887680);var l=e.i(6810699);e.i(5463680);var c=e.i(39509);e.i(3182268);var d=e.i(7849855);e.i(2886798);var u=e.i(680627),m=e.i(3183079),g=e.i(1017032),f=e.i(8522580),x=e.i(1717203),p=e.i(7557283),h=e.i(57106);e.i(8703064);var v=e.i(6798946),j=e.i(4981413),y=e.i(3798983),C=e.i(3703009);function b(e){let{onClickStore:n,storeTypeWithProduct:r,showCreateButton:i=!1}=e,{can:a,isLoading:s}=(0,x.default)(),o={"edge-config":a(p.Action.Create,p.Resource.EdgeConfig),blob:a(p.Action.Create,p.Resource.Blob),integration:a(p.Action.Create,p.Resource.Integration)};return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[["edge-config","blob"].map(e=>(0,t.jsx)(v.CreateResourceCard,{Icon:(0,t.jsx)(C.StoreIcon,{size:"large",type:e,useColor:!0}),description:y.storeDescription[e],isDisabled:s||!o[e],isSelected:r?.type===e,name:y.storeTitle[e],onClick:()=>{n({type:e})},showCreateButton:i,tooltip:{text:`You need additional permission to create a ${y.storeTitleFull[e]}.`,isEnabled:!o[e]}},e)),(0,t.jsxs)(f.Note,{fill:!0,type:"secondary",children:["KV and Postgres are now available through the Marketplace."," ",(0,t.jsx)(h.Link,{external:!0,href:"/docs/storage",target:"_blank",children:"Learn more"})]})]}),(0,t.jsx)(j.BrowseProducts,{onClickProduct:n,protocolType:"storage",selectedProduct:r,showCreateButton:i})]})}e.s(["BrowseStoresCards",0,b],562291);var E=e.i(3322174),T=e.i(9668517),S=e.i(4670733),w=e.i(5338940),N=e.i(2843591),_=e.i(8711152),k=e.i(3758860),I=e.i(455575),A=e.i(4030453),M=e.i(3500331),P=e.i(5323212),R=e.i(1848296),O=e.i(1637579),$=e.i(1119178),L=e.i(588428),B=e.i(277234),G=e.i(4244280),D=e.i(8042625),W=e.i(9584471),F=e.i(5377189),U=e.i(1758334);function V(e){let{active:r,cancelLabel:i,createLabel:l="Create",onBack:c,onBlobCreated:d,projectName:u}=e,{createStore:m}=function(){let{addResourceToList:e}=(0,W.useMutateResourceCache)(),t=(0,T.useTeamSlug)(),{permissions:n}=(0,F.useStorePermissions)({storeType:"blob",teamSlug:t??void 0});return{createStore:async n=>{let r=await (0,B.fetchAPI)(function(e,t){if("blob"===e)return`${G.API_STORE}/stores/blob${t}`;throw Error(`Unsupported store type: ${e}`)}("blob",(0,D.encode)({teamId:t})),{method:"POST",throwOnHTTPError:!0,body:n});return e(r.store),r},permissions:n}}(),{name:g,setName:f,storeNameError:x}=(0,U.useStoreName)({projectName:u,storeType:"blob"}),[p,h]=(0,a.useState)(!1),[v,j]=(0,a.useState)("iad1"),[y,C]=(0,a.useState)("private"),{value:b}=(0,L.useLaunchDarklyTeamFeatureFlag)("vercel-blob-private-access-policy"),[E,S]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),_=(0,a.useCallback)(async e=>{if(e.preventDefault(),h(!0),!x){N(null),S(!0);try{let e=await m({name:g,region:v,...b?{access:y}:{}});await d(e.store),I.toasts.success("Created Blob store successfully"),o.analytics.track(s.AnalyticsEvent.BLOB_STORE_CREATE,{name:g,ownerId:e.store.ownerId})}catch(e){e instanceof Error?N(e.message):N("An error occurred while creating the Blob store"),S(!1)}}},[m,x,g,v,d,b,y]),k=(0,a.useRef)(null);return(0,a.useEffect)(()=>{setTimeout(()=>{r&&(k.current?.focus(),k.current?.select())},0)},[r]),(0,t.jsxs)("form",{onSubmit:(0,$.promiseToCallback)(_),children:[(0,t.jsx)(n.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(n.Modal.Title,{center:!0,children:"Create Blob Store"}),(0,t.jsx)(n.Modal.Subtitle,{children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-center gap-0 flex-initial",children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Set up this new Blob Store."})})})]}),(0,t.jsx)(n.Modal.Inset,{last:!0,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)(M.Input,{"aria-label":"Store Name",disabled:E,error:p?x:void 0,label:"Store Name",maxLength:32,onChange:e=>f(e.currentTarget.value),placeholder:"store-name",ref:k,value:g,width:"100%"}),(0,t.jsx)(P.Select,{"aria-label":"Region",disabled:E,label:"Region",onChange:e=>j(e.currentTarget.value),value:v,width:"100%",children:Object.entries(O.groups).map(e=>{let[n,r]=e;return(0,t.jsx)("optgroup",{label:n,children:r.map(e=>"bru1"===e.key?null:(0,t.jsx)("option",{value:e.key,children:`${e.name} (${e.cardinal}) – ${e.key}`},`blob-region-${e.key}`))},`blob-region-group-${n}`)})}),b?(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-label-14 text-gray-1000",children:"Access"}),(0,t.jsxs)(R.RadioGroup,{label:"Access",name:"access-policy",value:y,onChange:e=>{C(e)},children:[(0,t.jsx)(R.RadioGroup.Item,{className:"mb-3",value:"private",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-label-14",children:"Private"}),(0,t.jsx)("span",{className:"text-copy-13 text-gray-900",children:"Blobs require a token to read. Use this for sensitive data."})]})}),(0,t.jsx)(R.RadioGroup.Item,{value:"public",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-label-14",children:"Public"}),(0,t.jsx)("span",{className:"text-copy-13 text-gray-900",children:"Blobs are publicly accessible via their URL. Use this for assets like images and documents."})]})})]})]}):null]})}),w?(0,t.jsx)(A.Error,{children:w}):null]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:c,type:"secondary",children:i}),(0,t.jsx)(n.Modal.Action,{buttonType:"submit",disabled:""===g.trim(),loading:E,children:l})]})]})}var H=e.i(6565161),z=e.i(762945),K=e.i(7917902),q=e.i(4714146),Y=e.i(5919007);function J(){let{team:e}=(0,K.useAccount)();return(0,t.jsx)(f.Note,{className:q.default["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial",style:{padding:1},children:[(0,t.jsx)(z.Warning,{style:{flexShrink:0}}),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14 text-inherit",children:"You reached the maximum number of Edge Configs for your plan."}),(0,t.jsxs)("p",{className:"text-copy-14 text-inherit",children:[(0,t.jsx)(h.Link,{href:e?`/${e.slug}/~/settings/billing`:"/account/billing",variant:"blend",children:"Upgrade your plan"})," ","or"," ",(0,t.jsx)(h.Link,{external:!0,href:"https://vercel.com/contact/sales?p=1",variant:"blend",children:"contact our sales team"})," ","to request a higher limit."]})]})]})})}function X(e){let{active:r,onClickOutside:i,onEdgeConfigCreated:l,projectName:c,cancelLabel:d="Cancel",createLabel:u="Create"}=e,{team:m,user:g}=(0,K.useAccount)(),{data:f}=(0,N.useEdgeConfigs)(),{mutate:x}=(0,H.useSWRConfig)(),{addResourceToList:p}=(0,W.useMutateResourceCache)(),[h,v]=(0,a.useState)(!1),j=m||g,y=!h&&!!j&&!!f&&f.length>=(0,Y.getMaxEdgeConfigs)(j),{name:C,setName:b,storeNameError:E}=(0,U.useStoreName)({projectName:c,storeType:"edge-config"}),[T,S]=(0,a.useState)(!1),[w,_]=(0,a.useState)(!1),[k,A]=(0,a.useState)(null),P=(0,I.useToasts)(),R=(0,a.useCallback)(async e=>{if(e.preventDefault(),S(!0),!E){A(null),_(!0);try{let e=await (0,B.fetchAPI)(`${G.API_EDGE_CONFIG}${(0,D.encode)({teamId:m?.id})}`,{method:"POST",throwOnHTTPError:!0,body:JSON.stringify({slug:C,items:{greeting:"hello world"}})});await x(`${G.API_EDGE_CONFIG}/${encodeURIComponent(e.id)}${(0,D.encode)({teamId:m?.id})}`,e,{revalidate:!1});let t=(0,N.mapEdgeConfigToStoreType)({edgeConfig:e});await p(t),P.success("Created Edge Config successfully"),o.analytics.track(s.AnalyticsEvent.EDGE_CONFIG_STORE_CREATE,{ownerId:m?.id}),v(!0),await new Promise(e=>{setTimeout(e,0)}),await l(e)}catch(e){e instanceof Error?A(e.message):P.error("Unexpected error while creating Edge Config"),_(!1)}}},[E,C,m?.id,x,p,P,l]),O=(0,a.useRef)(null);return(0,a.useEffect)(()=>{setTimeout(()=>{r&&(O.current?.focus(),O.current?.select())},0)},[r]),(0,t.jsxs)("form",{onSubmit:e=>void R(e),children:[(0,t.jsx)(n.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)(n.Modal.Title,{center:!1,children:"Create Edge Config Store"}),(0,t.jsx)(n.Modal.Inset,{last:!0,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:(0,t.jsx)(M.Input,{"aria-label":"Edge Config Name",disabled:w||y,error:T?k??E:void 0,label:"Edge Config Name",maxLength:(0,U.getStoreNameLengthByType)("edge-config"),onChange:e=>b(e.currentTarget.value),placeholder:"my-edge-config-store",ref:O,value:C,width:"100%"})}),y?(0,t.jsx)(J,{}):null]})})]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:i,type:"secondary",children:d}),(0,t.jsx)(n.Modal.Action,{buttonType:"submit",disabled:""===C.trim()||y,loading:w,children:u})]})]})}var Q=e.i(6356390);e.i(6483798);var Z=e.i(8287059);function ee(e){if(e)return y.docs[e].limitReached;throw Error("Invalid store type")}function et(e){let{limit:r,plan:i,storeType:s,onBack:o,onCancel:l}=e,{team:c}=(0,w.useTeam)(),d=(0,Z.useOpenUpgradeModal)(),u=function(e){switch(e){case"edge-config":return`${y.storeTitleFull["edge-config"]}`;case"blob":return`${y.storeTitleFull.blob}`;case"integration":return`${y.storeTitleFull.integration}`;default:throw Error("Invalid store type")}}(s),m=`${u}${1===r?"":"s"}`,g=c?.billing?.plan==="pro"&&"trialing"===c.billing.status,f=(0,a.useCallback)(e=>{e.preventDefault(),s&&(d({source:"storage-limit",forceImmediateUpgrade:!0,addOn:{type:"storage",additionalConfigurations:{storeType:s}}}),l())},[s,d,l]),x=(0,a.useCallback)(e=>{e.preventDefault(),window.open("https://vercel.com/help","_blank")},[]);return"hobby"===i||g?(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsx)(n.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:(0,t.jsxs)(n.Modal.Title,{center:!0,children:["Create ",u]})}),(0,t.jsx)(n.Modal.Inset,{last:!0,children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-5 flex-initial",children:[(0,t.jsx)(z.Warning,{color:"gray-700"}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-2 flex-initial pl-6 pr-6",children:[(0,t.jsxs)("p",{className:"text-[14px] leading-[20px] font-medium text-center",children:["You have reached the limit of ",u,"s on this plan."]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 text-center",children:`${g?"Pro Trial teams":"Personal Accounts"} are limited to ${r??""} active ${m}
                at a time. To create additional ${u}s, upgrade your plan
                to Pro or remove an existing ${u}.`}),(0,t.jsx)("div",{children:(0,t.jsx)(h.Link,{external:!0,href:ee(s),variant:"highlight",children:"Learn more"})})]})]})})]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:o,type:"secondary",children:"Go Back"}),(0,t.jsx)(n.Modal.Action,{buttonType:"submit",children:"Upgrade your plan"})]})]}):(0,t.jsxs)("form",{onSubmit:x,children:[(0,t.jsx)(n.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:(0,t.jsxs)(n.Modal.Title,{center:!0,children:["Create ",u]})}),(0,t.jsx)(n.Modal.Inset,{last:!0,children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-5 flex-initial",children:[(0,t.jsx)(z.Warning,{color:"gray-700"}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-2 flex-initial pl-6 pr-6",children:[(0,t.jsxs)("p",{className:"text-[14px] leading-[20px] font-medium text-center",children:["You have reached the limit of ",u,"s on this plan."]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 text-center",children:`${"enterprise"===i?"Enterprise":"Pro"}${c?.billing?.status==="trialing"?" Trial":""} Teams are limited to ${r??""} active ${m} at a time.
To request a higher limit, please contact Support.`}),(0,t.jsx)("div",{children:(0,t.jsx)(h.Link,{external:!0,href:ee(s),variant:"highlight",children:"Learn more"})})]})]})})]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:o,type:"secondary",children:"Go Back"}),(0,t.jsx)(n.Modal.Action,{buttonType:"submit",children:"Contact Support"})]})]})}function en(e){let{onBack:r,storeType:i}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:(0,t.jsxs)(n.Modal.Title,{children:["You do not have access to ",y.eula[i].product]})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:(0,t.jsxs)("p",{className:"text-copy-14",children:[y.eula[i].product," is not available on your Enterprise contract. To resolve this, please contact your Vercel account team."]})})]})}),(0,t.jsx)(n.Modal.Actions,{children:(0,t.jsx)(n.Modal.Action,{fullWidth:!0,onClick:r,type:"secondary",children:"Go Back"})})]})}var er=e.i(4496450),ei=e.i(4404233);e.i(5192575);var ea=e.i(1887803),es=e.i(6060673);function eo(e){let{installations:r}=e,i=(0,T.useTeamSlug)(),{projectSlug:s}=(0,d.useProjectSlug)(),{data:o}=(0,es.useProject)(s),{isReady:c,status:u}=function(){let{state:e}=(0,m.useResourceModalsContext)(),{team:t,isReady:n}=(0,w.useTeam)(),{getLimits:r,isReady:i}=function(){let{data:e}=(0,l.useResourceList)({keepPreviousData:!0,protocolType:"storage"}),{team:t,user:n}=(0,K.useAccount)(),r=t||n;return{getLimits:(0,a.useCallback)(t=>{let n=e?.stores.filter(e=>e.type===t);if(!r||!n)return{limit:void 0,isLimitReached:!1,plan:void 0};let i=function(e){let{owner:t,storeType:n}=e,r=t.billing?.status==="trialing";switch(n){case"edge-config":return(0,Y.getMaxEdgeConfigs)(t);case"blob":if("number"==typeof t.resourceConfig?.blobStores)return t.resourceConfig.blobStores;switch(t.billing?.plan){case"enterprise":return 1e3;case"pro":return r?5:500;default:return 5}case"integration":return 1/0;default:throw Error("Invalid store type")}}({owner:r,storeType:t});return{limit:i,isLimitReached:n.length>=i,plan:r.billing?.plan}},[r,e?.stores]),isReady:!!(e?.stores&&r)}}(),{isStorageEnterpriseEnabled:s,isReady:o}=(0,S.useStorageEnterpriseFlag)(),c=n&&i&&o,[d,u]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if("create-resource"!==e.type||!c||d)return;let{type:n}=e.resourceWithProduct,i=t?.billing?.plan==="enterprise",a=!(0,er.isLegacyPlanIteration)(t?.billing?.planIteration),o=t?.billing?.status==="trialing",l=r(n);l.isLimitReached?u({limitReached:l,enterpriseBlocked:!1}):i&&!s({storeType:n,isUnbundled:a,isTrialing:o})?u({limitReached:null,enterpriseBlocked:!0}):u({limitReached:null,enterpriseBlocked:!1})},[s,e,t?.billing?.plan,t?.billing?.status,t?.billing?.planIteration,d,c,r]),d?{isReady:!0,status:d}:{isReady:!1,status:null}}(),{state:g,onClose:f,onBack:x,onResourceUpdated:p,maybeGoToConnectProjectStep:h}=(0,m.useResourceModalsContext)(),{createConnection:v}=(0,ea.useResourceConnection)(),j=(0,a.useCallback)(async e=>{if("integration"===e.type&&(0,k.supportsAnyDrainProtocol)(e.product))p({resource:e,isConnected:!0}),f();else if(p({resource:e,isConnected:!1}),h(e))try{if(!o)throw Error("no project");let t=(0,ei.areResourceDeploymentsEnabled)(e);await v({projectId:o.id,envVarEnvironments:["production","preview","development"],deployments:t?{required:!0,actions:[]}:void 0,resourceId:e.id,v0token:void 0}),p({resource:e,isConnected:!0}),f()}catch{}else p({resource:e,isConnected:!0}),f()},[p,h,f,v,o]),y=(0,a.useCallback)(async e=>{let t=(0,N.mapEdgeConfigToStoreType)({edgeConfig:e});await j(t)},[j]);if("create-resource"!==g.type)return null;let{type:C}=g.resourceWithProduct;if(!c)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:(0,t.jsx)(n.Modal.Title,{center:!0,children:"Create Store"})}),(0,t.jsx)(n.Modal.Inset,{last:!0,children:"Loading…"})]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:x,type:"secondary",children:"Go Back"}),(0,t.jsx)(n.Modal.Action,{buttonType:"submit",disabled:!0,children:"Continue"})]})]});if(u.limitReached)return(0,t.jsx)(et,{limit:u.limitReached.limit,onBack:x,onCancel:f,plan:u.limitReached.plan,storeType:C});if(u.enterpriseBlocked)return(0,t.jsx)(en,{onBack:x,storeType:C});switch(C){case"edge-config":return(0,t.jsx)(X,{active:!0,cancelLabel:g.backOrCancelLabel,onClickOutside:x,onEdgeConfigCreated:y,projectName:s??void 0});case"blob":return(0,t.jsx)(V,{active:!0,cancelLabel:g.backOrCancelLabel,onBack:x,onBlobCreated:j,projectName:s??void 0});case"integration":{let e=g.resourceWithProduct.integration;return(0,t.jsx)(Q.CreateResourceModal,{cancelLabel:g.backOrCancelLabel,initialConfigurationStatus:(0,_.getConfigurationStatusByIntegrationId)(r,e.id),integration:e,onBack:x,onIntegrationResourceCreate:j,onSkipOnboarding:e=>{e?j(e):f()},product:(0,k.getProductWithSupportedProtocols)(g.resourceWithProduct.product),teamSlug:i??""})}default:return null}}var el=e.i(8696994),ec=e.i(3584802),ed=e.i(5677444);e.s(["CreateStoreModal",0,function(){let{hasProject:e}=(0,d.useProjectSlug)(),{team:f}=(0,w.useTeam)(),{state:x,onClose:p,onAnimationDone:h,maybeGoToConnectProjectStep:v,switchTab:j,goToCreateResourceStep:y}=(0,m.useResourceModalsContext)(),{data:C}=(0,g.useConfigurations)({type:"provisioning",skipBillingData:!0}),{data:T}=(0,l.useResourceList)({protocolType:"storage"}),S=`create-connect-${x.modalKey}`,[N,_]=(0,a.useState)(),k=(0,ed.useRouter)(),I=(0,a.useRef)(null),A=(0,a.useCallback)(()=>{_(void 0),h()},[h]),M=(0,a.useCallback)(()=>{_(void 0),p()},[p]);switch(x.type){case c.ResourceModalsActionTypes.ModalClosed:return(0,t.jsx)(n.Modal.Modal,{active:x.active,allowOverflow:!0,onAnimationDone:A,onClickOutside:p,width:620,children:(0,t.jsx)("div",{})},S);case c.ResourceModalsActionTypes.BrowseProductsOrSelectResources:return(0,t.jsx)(n.Modal.Modal,{active:x.active,allowOverflow:!0,onAnimationDone:A,onClickOutside:p,width:"browse-new"===x.tab?540:620,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{className:el.default.modalBody,children:(0,t.jsxs)("div",{ref:I,className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(n.Modal.Title,{children:"Browse Storage"}),(0,t.jsx)(n.Modal.Subtitle,{children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Create databases and stores that you can connect to your projects."})})]}),(0,t.jsxs)(r.Switch,{name:"switch-new-existing-tab",children:[(0,t.jsx)(r.Switch.Control,{defaultChecked:"browse-new"===x.tab,label:"Create New",onChange:()=>{j("browse-new")},size:"large",value:"create",width:104}),(0,t.jsx)(r.Switch.Control,{defaultChecked:"browse-existing"===x.tab,disabled:T?.stores.length===0,label:"Select Existing",onChange:()=>{j("browse-existing")},size:"large",value:"connect",width:122})]}),"browse-new"===x.tab?(0,t.jsx)(b,{onClickStore:e=>{_(e)},storeTypeWithProduct:N}):null,"browse-existing"===x.tab?(0,t.jsx)(u.SelectResources,{hasCreateConnectButton:!1,onClickConnectStoreModal:e=>{v(e)},protocolType:"storage"}):null]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:M,type:"secondary",children:"Cancel"}),"browse-new"===x.tab?(0,t.jsx)(n.Modal.Action,{disabled:!N,onClick:()=>{N&&y(N)},children:"Continue"}):null]})]})},S);case c.ResourceModalsActionTypes.BrowseProducts:return(0,t.jsx)(n.Modal.Modal,{active:x.active,allowOverflow:!0,onAnimationDone:A,onClickOutside:p,width:540,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{className:el.default.modalBody,children:(0,t.jsxs)("div",{ref:I,className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(n.Modal.Title,{children:"Browse Storage"}),(0,t.jsx)(n.Modal.Subtitle,{children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Create databases and stores that you can connect to your projects."})})]}),(0,t.jsx)(b,{onClickStore:e=>{_(e)},storeTypeWithProduct:N})]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:M,type:"secondary",children:"Cancel"}),(0,t.jsx)(n.Modal.Action,{"data-testid":(0,i.tid)("create-store-modal","continue"),disabled:!N,onClick:()=>{N&&("integration"===N.type?(k.push((0,ec.getIntegrationCheckoutUrl)({params:{teamSlug:f?.slug??"",integrationSlug:N.integration.slug},searchParams:{productSlug:N.product.slug,cancelUrl:f?`/${f.slug}/~/integrations/${N.integration.slug}`:`/marketplace/${N.integration.slug}`}})),o.analytics.track(s.AnalyticsEvent.MARKETPLACE_PRODUCT_INSTALL_CLICKED,{source:"storage",integration:{id:N.integration.id,slug:N.integration.slug},productSlug:N.product.slug})):y(N))},children:"Continue"})]})]})},S);case c.ResourceModalsActionTypes.CreateResource:return(0,t.jsx)(n.Modal.Modal,{active:x.active,allowOverflow:!0,onAnimationDone:A,onClickOutside:p,width:540,children:(0,t.jsx)(eo,{installations:C})},S);case c.ResourceModalsActionTypes.CreateEnvs:return e?(0,t.jsx)(n.Modal.Modal,{active:x.active,allowOverflow:!0,onAnimationDone:A,onClickOutside:p,width:540,children:(0,t.jsx)(E.ConnectStoreSwitch,{store:x.resource})},S):(0,t.jsx)(E.ConnectStoreSwitchWithoutProject,{active:x.active,store:x.resource},S);case c.ResourceModalsActionTypes.DeleteEnvs:throw Error("State not supported")}}],8922739)}]);

//# debugId=f2b1f487-641d-9a69-461b-6191fb870d57
//# sourceMappingURL=f726af96be482ad8.js.map